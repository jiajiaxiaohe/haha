<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/public.css">
    <link rel="stylesheet" href="css/details.css">
</head>
<body>
        <div id="title">
                <div class="margin">
                <div class="til-l">
                    <em>Hello , Welcom To OJO眼镜！</em>
                    <a href="login.html" class="login">登录</a>
                    <span>|</span>
                    <a href="#">注册</a>
                    <span>|</span>
                    <a href="index.html">首页</a>
                </div>
                <div class="til-r">
                    <img src="images/goshop1.png" alt="">
                    <a href="#">购物车</a>
                    <em>0</em>
                    <a href="#"class="jie">去结算</a>
                    <span>|</span>
                    <img src="images/phone.png" />
                    <a href="#" class="wx">手机版</a>
                    <span>|</span>
                    <a href="#">帮助中心</a>
                    <span>|</span>
                    <img src="images/phone.png" alt="">
                    <a href="#">最新消息</a>
                    <img src="" alt="">
                    <i></i>
                    <img src="images/weixin1.png" alt="" class="wx1">
                </div>
            </div>
        </div>
            <header class="margin">
                    <div class="logo">
                        <img src="images/logo.png" alt="" class="logo1">
                        <div class="search">
                            <input type="text"class="txt" placeholder="纯钛眼镜">
                            <input type="button" class="btn" value="搜索">
                            <p>
                                <span>热门搜索：</span>
                                <a href="#">框架眼镜</a>
                                <a href="#">太阳眼镜</a>
                                <a href="#">眼镜片</a>
                                <a href="#">JOJ</a>
                                <a href="#">女士太阳镜</a>
                                <a href="#">钛架</a>
                            </p>
                        </div>
                        <div class="mycenter">
                            <p class="p1">
                                <i></i>
                                <a href="#"> 我的中心</a>
                            </p>
                            <p class="p2">
                                <i></i>
                                <a href="#"> 购物车<span>0</span>件</a>
                            </p>
                        </div>
                  </div>
               <div class="nav">
                    <span class="com">
                        <a href="#" class="fl">全部商品分类</a>
                        </span>
                        <ul class="ul1">
                                <li> <a href="#" class="a1">首页</a></li>
                                <li> <a href="#">框架眼镜</a></li>
                                <li> <a href="#">太阳镜</a></li>
                                <li> <a href="#">眼镜片</a></li>
                                <li class="new4">
                                 <img src="images/new4.gif" alt="">   
                                 <a href="#">近视太阳镜</a></li>
                            </ul>
                             <h3 class="free">  
                                 <img src="images/hot.gif" alt="">
                                 <a href="#">返现免单</a>
                                 <a href="#">眼镜知识</a>
                             </h3>   
                        </div>
                     </header>
        <main class="margin">
            <div class="xq">
                <div class="xq-l">
                    <div class="xq-l-t">
                        <div class="s-box">
                            <img src="images/t40.jpg" alt="">
                            <span></span>
                            <p></p>
                        </div>
                        <div class="b-box">
                            <img src="images/t40.jpg" alt="">   
                        </div>
                    </div>
                    <div class="xq-l-b">
                        <i class="xq-i1"></i>
                        <img src="images/t15.jpg" alt="">
                        <img src="images/t16.jpg" alt="">
                        <img src="images/t17.jpg" alt="">
                        <img src="images/t19.jpg" alt="">
                        <img src="images/t31.jpg" alt="">
                        <i class="xq-i2"></i>
                    </div>
                </div>
                <div class="xq-r">
                    <h2>欧杰欧OJO 钨碳塑钢 简约圆形学生文艺男女近视光学眼镜架 亮黑色</h2>
                    <div class="pri">
                        <p>本店价<i>￥288</i></p>
                        <p>市场价<em>￥588</em></p>
                    </div>
                    <div class="pj">
                        <ul>
                            <li>
                                <p><a href="">208</a></p>
                                <p>销量</p>
                            </li>
                            <li>
                                <p>37</p>
                                <p>累计评价</p>
                                <p class="p1">48</p>
                            </li>
                            <li>
                                <p>258</p>
                                <p>送积分</p>
                            </li>
                        </ul>
                    </div>
                    <div class="sl">
                        数量：<input type="number" value="1">件
                    </div>
                    <div class="gw">
                        <a class="a1"></a>
                        <a class="a2"></a>
                    </div>
                    <div class="fh">
                        <ul>
                            <li><span>01</span>按时发货</li>
                            <li><span>02</span>保证正品</li>
                            <li><span>03</span>一年保修</li>
                            <li><span>03</span>一年保修</li>
                            <li><span>04</span>终身售后</li>
                            <li><span>04</span>终身售后</li>
                            <li><span>05</span>线上价格一直</li>
                        </ul>
                    </div>
                </div>
                
            </div>
        </main>
                                    
</body>
<script>
     function Magnifier(){
            this.sBox=document.querySelector(".s-box");
            this.bBox=document.querySelector(".b-box");
            this.bImg=document.querySelector(".b-box img");
            this.span=document.querySelector(".s-box span");

            
            this.addEvevt()
        }
        Magnifier.prototype.init=function(){
            var w=this.bBox.offsetWidth/this.bImg.offsetWidth;
            var h=this.bBox.offsetHeight/this.bImg.offsetHeight;
            this.span.style.width=w*this.sBox.offsetWidth+"px";
            this.span.style.height=h*this.sBox.offsetHeight+"px";
        }

        Magnifier.prototype.addEvevt=function(){
            var that=this;
            this.sBox.addEventListener("mouseover",function(){
                that.over();
                that.init();
            })
            this.sBox.addEventListener("mouseout",function(){
                that.out();
            })
            this.sBox.addEventListener("mousemove",function(eve){
                var e=eve || window.event;
                that.move(e);
            })
        }
        Magnifier.prototype.over=function(){
            this.span.style.display="block";
            this.bBox.style.display="block";
        }
        Magnifier.prototype.out=function(){
            this.span.style.display ="none";
            this.bBox.style.display="none";
        }
        Magnifier.prototype.move=function(e){
            var l = e.offsetX - this.span.offsetWidth/2;
            var t = e.offsetY - this.span.offsetHeight/2;
            if(l < 0) l=0;
            if(t < 0) t=0;
            if(l>this.sBox.offsetWidth-this.span.offsetWidth) l=this.sBox.offsetWidth-this.span.offsetWidth;
            if(t>this.sBox.offsetHeight - this.span.offsetHeight) t=this.sBox.offsetHeight - this.span.offsetHeight;
            this.span.style.left=l+"px";
            this.span.style.top = t + "px"
            var x=l/(this.sBox.offsetWidth-this.span.offsetWidth);
            var y=t/(this.sBox.offsetHeight-this.span.offsetHeight);
            this.bImg.style.left=(this.bBox.offsetWidth-this.bImg.offsetWidth)*x+"px";
            this.bImg.style.top=(this.bBox.offsetHeight-this.bImg.offsetHeight)*y+"px";
            console.log(this.bImg.style.left,this.bImg.style.top)
            
        }
       onload=function(){
           new Magnifier()
       }
    </script>
</html>